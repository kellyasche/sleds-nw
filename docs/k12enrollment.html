<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>K12Enrollment – Pathways taken after high school - Northwest</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Pathways taken after high school - Northwest</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Summary</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-prep-and-summaries" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-fa-gear" role="img">
</i> 
 <span class="menu-text">Data Prep and Summaries</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-prep-and-summaries">    
        <li>
    <a class="dropdown-item" href="./k12enrollment.html">
 <span class="dropdown-text">K12Enrollment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./k12orgs.html">
 <span class="dropdown-text">K12Orgs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./act.html">
 <span class="dropdown-text">ACT</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ap.qmd">
 <span class="dropdown-text">AP</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./cteenrollment.qmd">
 <span class="dropdown-text">CTEEnrollment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ctedemographics.qmd">
 <span class="dropdown-text">CTEDemographics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./assessments.qmd">
 <span class="dropdown-text">Assessments</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sat.qmd">
 <span class="dropdown-text">SAT</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./nscenrollment.qmd">
 <span class="dropdown-text">National Student Clearinghouse - Enrollment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./nsccompletions.qmd">
 <span class="dropdown-text">National Student Clearinghouse - Completions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./employment.qmd">
 <span class="dropdown-text">Employment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./emp_states_each_year.qmd">
 <span class="dropdown-text">Employment states each year</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./unemployment.qmd">
 <span class="dropdown-text">Unemployment</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./avgwages.qmd">
 <span class="dropdown-text">Average wages</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analysis" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-fa-gear" role="img">
</i> 
 <span class="menu-text">Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analysis">    
        <li>
    <a class="dropdown-item" href="./analysis_mca.qmd">
 <span class="dropdown-text">Multiple Correspondence Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_dep_var_states.qmd">
 <span class="dropdown-text">Dependent Variable States</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_local_employment_ct.qmd">
 <span class="dropdown-text">Local Employment Cross-tabs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_post_secondary_pathways_ct.qmd">
 <span class="dropdown-text">Post-secondary pathways cross-tabs</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_local_employment_CART.qmd">
 <span class="dropdown-text">Local Employment CART Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_post_secondary_paths_CART.qmd">
 <span class="dropdown-text">Post-secondary pathways CART</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./analysis_non_post_secondary_graduates.qmd">
 <span class="dropdown-text">Non-college graduates</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-prep" id="toc-data-prep" class="nav-link active" data-scroll-target="#data-prep">Data prep</a></li>
  <li><a href="#summary-of-k12enrollment-data" id="toc-summary-of-k12enrollment-data" class="nav-link" data-scroll-target="#summary-of-k12enrollment-data">Summary of K12Enrollment data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">K12Enrollment</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-prep" class="level1">
<h1>Data prep</h1>
<p>This dataset is of all the individuals that have graduated from a high school in Northwest Minnesota.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>enrollment.original <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"/Users/kellyasche/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Enrollment/K12Enrollment.csv"</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PersonID =</span> <span class="fu">as.integer</span>(PersonID),</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">K12OrganizationID =</span> <span class="fu">as.integer</span>(K12OrganizationID)) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(PersonID)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(enrollment.original))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 6%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 14%">
<col style="width: 12%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 5%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">PersonID</th>
<th style="text-align: right;">Grade</th>
<th style="text-align: right;">K12OrganizationID</th>
<th style="text-align: right;">TimeID</th>
<th style="text-align: right;">EconomicStatusIndicator</th>
<th style="text-align: left;">FederalRaceIndicator</th>
<th style="text-align: left;">PostSecondaryEnrollmentOptionsIndicator</th>
<th style="text-align: left;">PSEOConcurrentEnrollmentIndicator</th>
<th style="text-align: right;">RaceEthnicity</th>
<th style="text-align: right;">StatusEnd</th>
<th style="text-align: left;">Gender</th>
<th style="text-align: right;">SpecialEdStatus</th>
<th style="text-align: left;">LimitedEnglishProficiencyIndicator</th>
<th style="text-align: right;">HomePrimaryLanguage</th>
<th style="text-align: left;">HomelessIndicator</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2145398</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">127673</td>
<td style="text-align: right;">20050630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="even">
<td style="text-align: right;">132627</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">64337</td>
<td style="text-align: right;">20050630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="odd">
<td style="text-align: right;">146511</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">15118</td>
<td style="text-align: right;">20050630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="even">
<td style="text-align: right;">4068455</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">64348</td>
<td style="text-align: right;">20060630</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3578988</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">51093</td>
<td style="text-align: right;">20060630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
<tr class="even">
<td style="text-align: right;">9750075</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">108724</td>
<td style="text-align: right;">20080630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">names</span>(enrollment.original))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PersonID</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
</tr>
<tr class="odd">
<td style="text-align: left;">K12OrganizationID</td>
</tr>
<tr class="even">
<td style="text-align: left;">TimeID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">EconomicStatusIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">FederalRaceIndicator</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PostSecondaryEnrollmentOptionsIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSEOConcurrentEnrollmentIndicator</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RaceEthnicity</td>
</tr>
<tr class="even">
<td style="text-align: left;">StatusEnd</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender</td>
</tr>
<tr class="even">
<td style="text-align: left;">SpecialEdStatus</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LimitedEnglishProficiencyIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">HomePrimaryLanguage</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HomelessIndicator</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>In the dataset there are 1,997,366 observations along with 15 columns. Each observation does not represent a unique, unduplicated individual, but rather a unique status for the individual. For example, one individual can have multiple observations if they changed schools, for each school year, or if their economic status changed in the middle of a school year.</p>
<p>Next we need to create a dataset that only has students who graduated from a high school located in EDR 1, 2 and 4. To do that, we will need to join up with the K12Organization dataset to get each person’s school location.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>k12.org.original <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"~/Library/CloudStorage/GoogleDrive-kasche@ruralmn.org/My Drive/Research/FY25-27/FY26/OHE Journey to meaningful employment/Data/SLEDS/K12 Orgs/K12Organization.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(K12OrganizationID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(K12OrganizationID) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">K12OrganizationID =</span> <span class="fu">as.integer</span>(K12OrganizationID)) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(NCESID) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(SiteCountyCode, <span class="at">.direction =</span> <span class="st">"downup"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(k12.org.original))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 17%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">K12OrganizationID</th>
<th style="text-align: right;">DistrictID</th>
<th style="text-align: right;">SchoolNumber</th>
<th style="text-align: right;">StateOrganizationID</th>
<th style="text-align: right;">StateFiscalYear</th>
<th style="text-align: right;">NCESID</th>
<th style="text-align: left;">OrganizationName</th>
<th style="text-align: right;">UnitClassification</th>
<th style="text-align: left;">AddressType</th>
<th style="text-align: left;">City</th>
<th style="text-align: right;">SiteCountyCode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">122745</td>
<td style="text-align: right;">1310</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">701000010000</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">279145602410</td>
<td style="text-align: left;">PERPICH CENTER FOR ARTS EDUCATION</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">MAILING</td>
<td style="text-align: left;">Golden Valley</td>
<td style="text-align: right;">27</td>
</tr>
<tr class="even">
<td style="text-align: right;">172384</td>
<td style="text-align: right;">244</td>
<td style="text-align: right;">200</td>
<td style="text-align: right;">10492200000</td>
<td style="text-align: right;">2018</td>
<td style="text-align: right;">270345000148</td>
<td style="text-align: left;">AUSTIN SENIOR HIGH</td>
<td style="text-align: right;">32</td>
<td style="text-align: left;">PHYSICAL_LOCATION</td>
<td style="text-align: left;">Austin</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89982</td>
<td style="text-align: right;">1255</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">616004020000</td>
<td style="text-align: right;">2015</td>
<td style="text-align: right;">270001402222</td>
<td style="text-align: left;">FRESHWATER ED. DIST. ALC</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">PHYSICAL_LOCATION</td>
<td style="text-align: left;">Staples</td>
<td style="text-align: right;">77</td>
</tr>
<tr class="even">
<td style="text-align: right;">111573</td>
<td style="text-align: right;">58</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">10138070000</td>
<td style="text-align: right;">2007</td>
<td style="text-align: right;">272382002633</td>
<td style="text-align: left;">DISTANCE LEARNING PROGRAM</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">PHYSICAL_LOCATION</td>
<td style="text-align: left;">North Branch</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="odd">
<td style="text-align: right;">52166</td>
<td style="text-align: right;">334</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">10676020000</td>
<td style="text-align: right;">2016</td>
<td style="text-align: right;">270354000163</td>
<td style="text-align: left;">BADGER SECONDARY</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">PHYSICAL_LOCATION</td>
<td style="text-align: left;">Badger</td>
<td style="text-align: right;">68</td>
</tr>
<tr class="even">
<td style="text-align: right;">29693</td>
<td style="text-align: right;">470</td>
<td style="text-align: right;">301</td>
<td style="text-align: right;">12198301000</td>
<td style="text-align: right;">2016</td>
<td style="text-align: right;">270010004226</td>
<td style="text-align: left;">ROOT RIVER PROGRAM</td>
<td style="text-align: right;">79</td>
<td style="text-align: left;">MAILING</td>
<td style="text-align: left;">Harmony</td>
<td style="text-align: right;">23</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">names</span>(k12.org.original))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">K12OrganizationID</td>
</tr>
<tr class="even">
<td style="text-align: left;">DistrictID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SchoolNumber</td>
</tr>
<tr class="even">
<td style="text-align: left;">StateOrganizationID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">StateFiscalYear</td>
</tr>
<tr class="even">
<td style="text-align: left;">NCESID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OrganizationName</td>
</tr>
<tr class="even">
<td style="text-align: left;">UnitClassification</td>
</tr>
<tr class="odd">
<td style="text-align: left;">AddressType</td>
</tr>
<tr class="even">
<td style="text-align: left;">City</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SiteCountyCode</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>This dataset provides each school institution as of June 29, 2024. This isn’t a list of each school but rather a list of each K12OrganizationID. Each school will have multiple K12OrganizationID.</p>
<p>My goal is to join my standardized region and county code data with this document which will then be joined to the master enrollment document. Unfortunately the main data does not include county name but rather their own code for county. So I will join their codes with the county names and then use my “counties.regions” data to bring together the remaining regions.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>k12.org.master <span class="ot">&lt;-</span> k12.org.original <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(K12OrganizationID, SiteCountyCode, OrganizationName) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.county.codes[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)], <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"SiteCountyCode"</span> <span class="ot">=</span> <span class="st">"county.code"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">county.name =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county.name =</span> <span class="fu">str_replace</span>(county.name, <span class="st">" County"</span>, <span class="st">""</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(K12OrganizationID, OrganizationName, county.name) <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">county.name =</span> <span class="fu">str_replace</span>(county.name, <span class="st">"Saint Louis"</span>, <span class="st">"St. Louis"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(counties.regions<span class="fl">.1</span>, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"county.name"</span> <span class="ot">=</span> <span class="st">"Name"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Dem_RUCA, <span class="sc">-</span>edr.simple, <span class="sc">-</span>mif)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(k12.org.master))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 9%">
<col style="width: 18%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 14%">
<col style="width: 4%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">K12OrganizationID</th>
<th style="text-align: left;">OrganizationName</th>
<th style="text-align: left;">county.name</th>
<th style="text-align: left;">countyfp</th>
<th style="text-align: left;">Dem_Desc</th>
<th style="text-align: left;">edr</th>
<th style="text-align: left;">planning.region</th>
<th style="text-align: left;">statefp</th>
<th style="text-align: left;">project.pr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">122745</td>
<td style="text-align: left;">PERPICH CENTER FOR ARTS EDUCATION</td>
<td style="text-align: left;">Hennepin</td>
<td style="text-align: left;">053</td>
<td style="text-align: left;">Entirely urban</td>
<td style="text-align: left;">EDR 11 - 7 County Twin Cities</td>
<td style="text-align: left;">Seven County Mpls-St Paul</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Seven County Mpls-St Paul</td>
</tr>
<tr class="even">
<td style="text-align: right;">172384</td>
<td style="text-align: left;">AUSTIN SENIOR HIGH</td>
<td style="text-align: left;">Mower</td>
<td style="text-align: left;">099</td>
<td style="text-align: left;">Urban/town/rural mix</td>
<td style="text-align: left;">EDR 10 - Southeast</td>
<td style="text-align: left;">Southeast</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Southern</td>
</tr>
<tr class="odd">
<td style="text-align: right;">89982</td>
<td style="text-align: left;">FRESHWATER ED. DIST. ALC</td>
<td style="text-align: left;">Todd</td>
<td style="text-align: left;">153</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 5 - North Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Central</td>
</tr>
<tr class="even">
<td style="text-align: right;">111573</td>
<td style="text-align: left;">DISTANCE LEARNING PROGRAM</td>
<td style="text-align: left;">Chisago</td>
<td style="text-align: left;">025</td>
<td style="text-align: left;">Entirely urban</td>
<td style="text-align: left;">EDR 7E- East Central</td>
<td style="text-align: left;">Central</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Central</td>
</tr>
<tr class="odd">
<td style="text-align: right;">52166</td>
<td style="text-align: left;">BADGER SECONDARY</td>
<td style="text-align: left;">Roseau</td>
<td style="text-align: left;">135</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 1 - Northwest</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="even">
<td style="text-align: right;">29693</td>
<td style="text-align: left;">ROOT RIVER PROGRAM</td>
<td style="text-align: left;">Fillmore</td>
<td style="text-align: left;">045</td>
<td style="text-align: left;">Urban/town/rural mix</td>
<td style="text-align: left;">EDR 10 - Southeast</td>
<td style="text-align: left;">Southeast</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Southern</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">names</span>(k12.org.master))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">K12OrganizationID</td>
</tr>
<tr class="even">
<td style="text-align: left;">OrganizationName</td>
</tr>
<tr class="odd">
<td style="text-align: left;">county.name</td>
</tr>
<tr class="even">
<td style="text-align: left;">countyfp</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dem_Desc</td>
</tr>
<tr class="even">
<td style="text-align: left;">edr</td>
</tr>
<tr class="odd">
<td style="text-align: left;">planning.region</td>
</tr>
<tr class="even">
<td style="text-align: left;">statefp</td>
</tr>
<tr class="odd">
<td style="text-align: left;">project.pr</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>Now I should be able to join this dataset with the enrollment data to figure out what EDR they are from and then filter any rows that are not associated with a school district located in the Northwest region as defined by the project.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>enrollment.org.northwest <span class="ot">&lt;-</span> enrollment.original <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.org.master, <span class="at">by =</span> <span class="st">"K12OrganizationID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(project.pr <span class="sc">==</span> <span class="st">"Northwest"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(enrollment.org.northwest))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 10%">
<col style="width: 8%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 1%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 2%">
<col style="width: 2%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">PersonID</th>
<th style="text-align: right;">Grade</th>
<th style="text-align: right;">K12OrganizationID</th>
<th style="text-align: right;">TimeID</th>
<th style="text-align: right;">EconomicStatusIndicator</th>
<th style="text-align: left;">FederalRaceIndicator</th>
<th style="text-align: left;">PostSecondaryEnrollmentOptionsIndicator</th>
<th style="text-align: left;">PSEOConcurrentEnrollmentIndicator</th>
<th style="text-align: right;">RaceEthnicity</th>
<th style="text-align: right;">StatusEnd</th>
<th style="text-align: left;">Gender</th>
<th style="text-align: right;">SpecialEdStatus</th>
<th style="text-align: left;">LimitedEnglishProficiencyIndicator</th>
<th style="text-align: right;">HomePrimaryLanguage</th>
<th style="text-align: left;">HomelessIndicator</th>
<th style="text-align: left;">OrganizationName</th>
<th style="text-align: left;">county.name</th>
<th style="text-align: left;">countyfp</th>
<th style="text-align: left;">Dem_Desc</th>
<th style="text-align: left;">edr</th>
<th style="text-align: left;">planning.region</th>
<th style="text-align: left;">statefp</th>
<th style="text-align: left;">project.pr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">6635194</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">117829</td>
<td style="text-align: right;">20060630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">MOORHEAD HIGH SCHOOL</td>
<td style="text-align: left;">Clay</td>
<td style="text-align: left;">027</td>
<td style="text-align: left;">Entirely urban</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="even">
<td style="text-align: right;">1621067</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">140965</td>
<td style="text-align: right;">20140630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">W</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">Y</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">PERHAM SENIOR HIGH</td>
<td style="text-align: left;">Otter Tail</td>
<td style="text-align: left;">111</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7802683</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">144409</td>
<td style="text-align: right;">20140630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">W</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">Y</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">LINCOLN SENIOR HIGH</td>
<td style="text-align: left;">Pennington</td>
<td style="text-align: left;">113</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 1 - Northwest</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="even">
<td style="text-align: right;">7724678</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">140968</td>
<td style="text-align: right;">20170630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">W</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">PERHAM SENIOR HIGH</td>
<td style="text-align: left;">Otter Tail</td>
<td style="text-align: left;">111</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3645119</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">177901</td>
<td style="text-align: right;">20190630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">W</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">Y</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">OSAKIS SECONDARY</td>
<td style="text-align: left;">Douglas</td>
<td style="text-align: left;">041</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
<tr class="even">
<td style="text-align: right;">12049252</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">176711</td>
<td style="text-align: right;">20190630</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">W</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">MOORHEAD HIGH SCHOOL</td>
<td style="text-align: left;">Clay</td>
<td style="text-align: left;">027</td>
<td style="text-align: left;">Entirely urban</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: left;">Northwest</td>
<td style="text-align: left;">27</td>
<td style="text-align: left;">Northwest</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">names</span>(enrollment.org.northwest))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PersonID</td>
</tr>
<tr class="even">
<td style="text-align: left;">Grade</td>
</tr>
<tr class="odd">
<td style="text-align: left;">K12OrganizationID</td>
</tr>
<tr class="even">
<td style="text-align: left;">TimeID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">EconomicStatusIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">FederalRaceIndicator</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PostSecondaryEnrollmentOptionsIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">PSEOConcurrentEnrollmentIndicator</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RaceEthnicity</td>
</tr>
<tr class="even">
<td style="text-align: left;">StatusEnd</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gender</td>
</tr>
<tr class="even">
<td style="text-align: left;">SpecialEdStatus</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LimitedEnglishProficiencyIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">HomePrimaryLanguage</td>
</tr>
<tr class="odd">
<td style="text-align: left;">HomelessIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">OrganizationName</td>
</tr>
<tr class="odd">
<td style="text-align: left;">county.name</td>
</tr>
<tr class="even">
<td style="text-align: left;">countyfp</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dem_Desc</td>
</tr>
<tr class="even">
<td style="text-align: left;">edr</td>
</tr>
<tr class="odd">
<td style="text-align: left;">planning.region</td>
</tr>
<tr class="even">
<td style="text-align: left;">statefp</td>
</tr>
<tr class="odd">
<td style="text-align: left;">project.pr</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><br></p>
<p>The dataset now has 262,469 instances that provide a number of characteristics about an individuals enrollment.</p>
<p>My goal is to end up with a dataset where each observation (row) represents a unique (unduplicated) individual that’s tied to the school from which they graduated. Here’s how I will do that.</p>
<ul>
<li>PersonID: change to integer</li>
<li>K12OrganizationID: change to integer.</li>
<li>K12EnrTimeID: Change so it’s only the year</li>
<li>Grade: eliminate - unimportant since we are mostly concerned about whether they graduated.</li>
<li>EconomicStatusIndicator: I will change this to two categories. Whether they were ever eligible for reduce priced or free meal will be coded as 1 (eligible = codes 1, 2, 4, 5) at any point in the dataset. The remaining will be coded as 0.</li>
<li>FederalRaceIndicator: eliminate - I’m going to use the RaceEthnicity column instead.</li>
<li>PSEO columns: I’m most concerned about whether they participated in PSEO or not. A new column will be created indicated whether there was a “Y” coded for either the “PSEOConcurrentEnrollmentIndicator” or “PostSecondaryEnrollmentOptionsIndicator” columns at any point in the dataset. The two original columns will be eliminated.</li>
<li>StatusEnd: I will only include individuals that have StatusEnd coded as an 8 or 9.</li>
<li>Gender: included and not changed.</li>
<li>SpecialEdStatus: I will split this into two categories. The first is that a student did not require special education services (codes 1-2) at any point in the dataset. The other category will be that they require special education (codes 4 - 9) at any point in the dataset.</li>
<li>Limited English: keep with no changes.</li>
<li>Primary language: I’m going to create two categories. One being that English is the primary language while the other will be that English is NOT the primary language at any point in the dataset.</li>
<li>Homeless: Keep with no changes.</li>
</ul>
<p>We first need to create a list of all individuals with the StatusEnd code of 8 or 9 (graduated). In addition, we need to remove any student that graduated before 2008. This is because we will not have their full Sophmore - Senior records which is especially important when attempting to identify whether the number of CTE courses taken predicts migration.</p>
<p>The other element I want to add is a pre-covid and post-covid variable. All individuals whose grad year is before 2020 will be labeled pre-covid and all others wil lbe post-covid.</p>
<p>This “graduates list” will be the list on which we will bind all the other variables.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>graduates <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(StatusEnd <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">8</span>,<span class="dv">9</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grad.year =</span> <span class="fu">str_sub</span>(TimeID, <span class="dv">1</span>, <span class="dv">4</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad.year =</span> <span class="fu">as.integer</span>(grad.year),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">grad.year.covid =</span> <span class="fu">ifelse</span>(grad.year <span class="sc">&gt;</span> <span class="dv">2019</span>, <span class="st">"Post-covid grad"</span>, <span class="st">"Pre-covid grad"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, K12OrganizationID, OrganizationName, grad.year, grad.year.covid, Gender, LimitedEnglishProficiencyIndicator, HomelessIndicator, county.name, countyfp, Dem_Desc, edr) <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PersonID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(grad.year <span class="sc">&gt;</span> <span class="dv">2007</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>Next we need to create new columns for the variables that will indicate a certain status has been met at any point in the dataset for each PersonID. For example, we want a column that indicates a PersonID was enrolled in PSEO at some point in the dataset. The variables that need a new column created are;</p>
<ul>
<li>EconomicStatusIndicator</li>
<li>PostSecondaryEnrollmentOptionsIndicator &amp; PSEOConcurrentEnrollmentIndicator</li>
<li>SpecialEdStatus</li>
<li>HomeprimaryLanguage</li>
</ul>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Lets start with economic status indicator</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>k12.enr.esi.indicator <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, EconomicStatusIndicator) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PersonID) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">economic.status.code =</span> <span class="fu">ifelse</span>(EconomicStatusIndicator <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">economic.status.code.sum =</span> <span class="fu">sum</span>(economic.status.code)) <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PersonID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">economic.status =</span> <span class="fu">ifelse</span>(economic.status.code.sum <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, economic.status)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># PSEO</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>k12.enr.pseo.indicator <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, PostSecondaryEnrollmentOptionsIndicator, PSEOConcurrentEnrollmentIndicator) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PostSecondaryEnrollmentOptionsIndicator =</span> <span class="fu">ifelse</span>(PostSecondaryEnrollmentOptionsIndicator <span class="sc">==</span> <span class="st">"Y"</span>, <span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">PSEOConcurrentEnrollmentIndicator =</span> <span class="fu">ifelse</span>(PSEOConcurrentEnrollmentIndicator <span class="sc">==</span> <span class="st">"Y"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"pseo.type"</span>, <span class="at">value =</span> <span class="st">"indicator"</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PersonID) <span class="sc">%&gt;%</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">pseo =</span> <span class="fu">sum</span>(indicator)) <span class="sc">%&gt;%</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pseo.participant =</span> <span class="fu">ifelse</span>(pseo <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, pseo.participant)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Special Ed status</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>k12.enr.spced.indicator <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, SpecialEdStatus) <span class="sc">%&gt;%</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SpecialEdStatus.code =</span> <span class="fu">ifelse</span>(SpecialEdStatus <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>), <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PersonID) <span class="sc">%&gt;%</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">SpecialEdStatus.sum =</span> <span class="fu">sum</span>(SpecialEdStatus.code)) <span class="sc">%&gt;%</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SpecialEdStatus =</span> <span class="fu">ifelse</span>(SpecialEdStatus.sum <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, SpecialEdStatus)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Home Primary Language</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>k12.enr.homeprimlang.indicator <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, HomePrimaryLanguage) <span class="sc">%&gt;%</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HomePrimaryLanguage.code =</span> <span class="fu">ifelse</span>(HomePrimaryLanguage <span class="sc">==</span> <span class="dv">11</span>, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PersonID) <span class="sc">%&gt;%</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">HomePrimaryLanguage.sum =</span> <span class="fu">sum</span>(HomePrimaryLanguage.code)) <span class="sc">%&gt;%</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">non.english.home =</span> <span class="fu">ifelse</span>(HomePrimaryLanguage.sum <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, non.english.home)</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Race</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>k12.enr.race <span class="ot">&lt;-</span> enrollment.org.northwest <span class="sc">%&gt;%</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, RaceEthnicity) <span class="sc">%&gt;%</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RaceEthnicity =</span> <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="dv">0</span>, <span class="st">"Unknown"</span>,</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"AI"</span>,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>                                       <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="dv">2</span>, <span class="st">"Asian/PI"</span>,</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>                                              <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="dv">3</span>, <span class="st">"Hispanic"</span>,</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>                                                     <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="dv">4</span>, <span class="st">"Black"</span>, <span class="st">"White"</span>))))),</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>         <span class="at">RaceEthnicity =</span> <span class="fu">as.factor</span>(RaceEthnicity)) <span class="sc">%&gt;%</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PersonID, RaceEthnicity) <span class="sc">%&gt;%</span></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">code =</span> <span class="fu">ifelse</span>(RaceEthnicity <span class="sc">==</span> <span class="st">"Unknown"</span>, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(PersonID) <span class="sc">%&gt;%</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(code <span class="sc">==</span> <span class="fu">max</span>(code)) <span class="sc">%&gt;%</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>  ungroup <span class="sc">%&gt;%</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(PersonID, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, RaceEthnicity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>Now we can combine the list of graduates with the status indicators.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>k12.enrollment.master <span class="ot">&lt;-</span> graduates <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.enr.esi.indicator, <span class="at">by =</span> <span class="st">"PersonID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.enr.pseo.indicator, <span class="at">by =</span> <span class="st">"PersonID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.enr.spced.indicator, <span class="at">by =</span> <span class="st">"PersonID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.enr.homeprimlang.indicator, <span class="at">by =</span> <span class="st">"PersonID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(k12.enr.race, <span class="at">by =</span> <span class="st">"PersonID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(PersonID, K12OrganizationID, OrganizationName, county.name, countyfp, Dem_Desc, edr, grad.year, grad.year.covid, Gender, LimitedEnglishProficiencyIndicator, HomelessIndicator, economic.status, pseo.participant, SpecialEdStatus, non.english.home, RaceEthnicity)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">head</span>(k12.enrollment.master))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 12%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 5%">
<col style="width: 2%">
<col style="width: 12%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">PersonID</th>
<th style="text-align: right;">K12OrganizationID</th>
<th style="text-align: left;">OrganizationName</th>
<th style="text-align: left;">county.name</th>
<th style="text-align: left;">countyfp</th>
<th style="text-align: left;">Dem_Desc</th>
<th style="text-align: left;">edr</th>
<th style="text-align: right;">grad.year</th>
<th style="text-align: left;">grad.year.covid</th>
<th style="text-align: left;">Gender</th>
<th style="text-align: left;">LimitedEnglishProficiencyIndicator</th>
<th style="text-align: left;">HomelessIndicator</th>
<th style="text-align: right;">economic.status</th>
<th style="text-align: right;">pseo.participant</th>
<th style="text-align: right;">SpecialEdStatus</th>
<th style="text-align: right;">non.english.home</th>
<th style="text-align: left;">RaceEthnicity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1621067</td>
<td style="text-align: right;">140965</td>
<td style="text-align: left;">PERHAM SENIOR HIGH</td>
<td style="text-align: left;">Otter Tail</td>
<td style="text-align: left;">111</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: right;">2014</td>
<td style="text-align: left;">Pre-covid grad</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">White</td>
</tr>
<tr class="even">
<td style="text-align: right;">3645119</td>
<td style="text-align: right;">177901</td>
<td style="text-align: left;">OSAKIS SECONDARY</td>
<td style="text-align: left;">Douglas</td>
<td style="text-align: left;">041</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: right;">2019</td>
<td style="text-align: left;">Pre-covid grad</td>
<td style="text-align: left;">F</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">White</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1279027</td>
<td style="text-align: right;">216983</td>
<td style="text-align: left;">BEMIDJI SENIOR HIGH</td>
<td style="text-align: left;">Beltrami</td>
<td style="text-align: left;">007</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 2 - Headwaters</td>
<td style="text-align: right;">2023</td>
<td style="text-align: left;">Post-covid grad</td>
<td style="text-align: left;">F</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Unknown</td>
</tr>
<tr class="even">
<td style="text-align: right;">2500266</td>
<td style="text-align: right;">150483</td>
<td style="text-align: left;">EAST GRAND FORKS SENIOR HIGH</td>
<td style="text-align: left;">Polk</td>
<td style="text-align: left;">119</td>
<td style="text-align: left;">Urban/town/rural mix</td>
<td style="text-align: left;">EDR 1 - Northwest</td>
<td style="text-align: right;">2009</td>
<td style="text-align: left;">Pre-covid grad</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">White</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5556115</td>
<td style="text-align: right;">189828</td>
<td style="text-align: left;">GREENBUSH-MIDDLE RIVER SENIOR HIGH</td>
<td style="text-align: left;">Roseau</td>
<td style="text-align: left;">135</td>
<td style="text-align: left;">Town/rural mix</td>
<td style="text-align: left;">EDR 1 - Northwest</td>
<td style="text-align: right;">2020</td>
<td style="text-align: left;">Post-covid grad</td>
<td style="text-align: left;">M</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">White</td>
</tr>
<tr class="even">
<td style="text-align: right;">1950620</td>
<td style="text-align: right;">200829</td>
<td style="text-align: left;">DETROIT LAKES SENIOR HIGH</td>
<td style="text-align: left;">Becker</td>
<td style="text-align: left;">005</td>
<td style="text-align: left;">Urban/town/rural mix</td>
<td style="text-align: left;">EDR 4 - West Central</td>
<td style="text-align: right;">2021</td>
<td style="text-align: left;">Post-covid grad</td>
<td style="text-align: left;">F</td>
<td style="text-align: left;">N</td>
<td style="text-align: left;">N</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Unknown</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(<span class="fu">names</span>(k12.enrollment.master)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PersonID</td>
</tr>
<tr class="even">
<td style="text-align: left;">K12OrganizationID</td>
</tr>
<tr class="odd">
<td style="text-align: left;">OrganizationName</td>
</tr>
<tr class="even">
<td style="text-align: left;">county.name</td>
</tr>
<tr class="odd">
<td style="text-align: left;">countyfp</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dem_Desc</td>
</tr>
<tr class="odd">
<td style="text-align: left;">edr</td>
</tr>
<tr class="even">
<td style="text-align: left;">grad.year</td>
</tr>
<tr class="odd">
<td style="text-align: left;">grad.year.covid</td>
</tr>
<tr class="even">
<td style="text-align: left;">Gender</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LimitedEnglishProficiencyIndicator</td>
</tr>
<tr class="even">
<td style="text-align: left;">HomelessIndicator</td>
</tr>
<tr class="odd">
<td style="text-align: left;">economic.status</td>
</tr>
<tr class="even">
<td style="text-align: left;">pseo.participant</td>
</tr>
<tr class="odd">
<td style="text-align: left;">SpecialEdStatus</td>
</tr>
<tr class="even">
<td style="text-align: left;">non.english.home</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RaceEthnicity</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(k12.enrollment.master, <span class="st">"Data/SLEDS/K12 Enrollment/K12Enrollment-master.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>The prepped enrollment data has 65,650 observations and 17 columns.</p>
<p><br></p>
</section>
<section id="summary-of-k12enrollment-data" class="level1">
<h1>Summary of K12Enrollment data</h1>
<p>Below is the percentage of total observations that;</p>
<ul>
<li>Were eligible for free or reduced lunch at some point in the dataset</li>
<li>Are Female</li>
<li>Have been homeless at some point in the dataset</li>
<li>Had limited english proficiency at some point in the dataset</li>
<li>Had non english speakders in home at some point in the dataset</li>
<li>Participated in a PSEO course at some point in the dataset.</li>
<li>Pct non white</li>
</ul>
<p>As expected, nearly half (49.2%) of the observations are female. Over a third (35.5%) of the observations have been eligible for free or reduced lunch at some point in the dataset. Also, over a quarter (26.4%) of observations participated in a PSEO course. Nearly 30% are non-white students , 15% are categorized as needing special education, 3% have non-english speakers at home, 1% have limited english proficiency and nearly 1% were categorized as homeless at some point between Sophmore and Senior year.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-051b631f5c13ed26d8b6" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-051b631f5c13ed26d8b6">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"481\" data-max=\"32322\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\" disabled=\"\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"1\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","data":[["Female","Free or reduced lunch","Homeless","Limited English Proficiency","Non-english in home","Non-white","PSEO participant","Special Ed"],[32322,23335,481,533,2166,18425,19627,9574],[65650,65650,65650,65650,65650,65650,65650,65650],["49.2%","35.5%","0.7%","0.8%","3.3%","28.1%","29.9%","14.6%"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>indicator<\/th>\n      <th>confirmed.indicator<\/th>\n      <th>total.observations<\/th>\n      <th>pct<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2]},{"name":"indicator","targets":0},{"name":"confirmed.indicator","targets":1},{"name":"total.observations","targets":2},{"name":"pct","targets":3}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(k12.enrollment.master, <span class="st">"Data/SLEDS/Masters/k12_enrollment.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>